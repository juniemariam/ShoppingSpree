(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports={Geo:"Geo_Geo__QCVNu",mapPlace:"Geo_mapPlace__qdx5-"}},113:function(e,t,a){e.exports={FeedProd:"WishL_FeedProd__2_48Y",deButton:"WishL_deButton__zK4oE",FeedProdImg:"WishL_FeedProdImg__3PGoS",Home:"WishL_Home__hZN5n"}},155:function(e,t,a){e.exports=a.p+"static/media/deleteIcon.650cdc57.svg"},157:function(e,t,a){e.exports={page:"FeedSpecProd_page__1XMd5",mapDiv:"FeedSpecProd_mapDiv__1_Dsi",FeedSpecProdList:"FeedSpecProd_FeedSpecProdList__3iyyi"}},213:function(e,t,a){e.exports={Button:"Button_Button__2vNUC",Success:"Button_Success__Ohebq",Danger:"Button_Danger__3TiTG",flip:"Button_flip__3t2HH"}},214:function(e,t,a){e.exports={NavigationItem:"NavigationItem_NavigationItem__1V2rZ",active:"NavigationItem_active__17av6"}},215:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAOVBMVEUAAAALHlANHVENHlINH1EOH1AMHlEOHlIAHFUOHFMNHlIPHVAOHFALHlMMHVINHlAAK1UOHVIAAAB2NJAMAAAAEnRSTlMAQ7aZt0mRbQklnyM2RGq1BjXWNw7EAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB+MEHRU5L7RPO3YAAABCSURBVBjTY2BgYGBkYoYBFgYQYGVlgAE2EgTYOdAEOLk4EALc3AwwEZAADy8E8PELQAQE0QUwtGAxFKu1JDodxfsAiFIC4BZdtsEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDQtMjlUMTk6NTc6NDcrMDI6MDBWyCquAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA0LTI5VDE5OjU3OjQ3KzAyOjAwJ5WSEgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},216:function(e,t,a){e.exports={searchbar:"SearchMain_searchbar__fBuQx",form:"SearchMain_form__34O0p"}},217:function(e,t,a){e.exports={AddProd:"AddProd_AddProd__2RzIT"}},31:function(e,t,a){e.exports={ProdSingleView:"ProdSingleView_ProdSingleView__1f5DC",img:"ProdSingleView_img__13NWK",phoneIcon:"ProdSingleView_phoneIcon__y-csn",navIcons:"ProdSingleView_navIcons__27xrV",cont:"ProdSingleView_cont__1NxmM",content:"ProdSingleView_content__1JU8b",svg1:"ProdSingleView_svg1__2ezHc",page:"ProdSingleView_page__3h9Wu"}},321:function(e,t){e.exports="data:image/png;base64,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"},322:function(e,t,a){e.exports={FeedProdList:"FeedProdList_FeedProdList__2WLK0"}},323:function(e,t,a){e.exports={Loader:"Spinner_Loader__2HzfO",Loader1:"Spinner_Loader1__3uxSS",Loader2:"Spinner_Loader2__ffN3d",Loader3:"Spinner_Loader3__1hpyi"}},325:function(e,t,a){e.exports={WishList:"WishList_WishList__3YC7v"}},326:function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__3Fiau",Logo:"Toolbar_Logo___jZ76",Icon:"Toolbar_Icon__2q0LQ",DesktopOnly:"Toolbar_DesktopOnly__3mWrT"}},327:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAwFBMVEUAAAASJEkMHlENH08NH1AMHlEQIFAXF0YNHlENHlENHlENHlEOIFENH1INHlELIFANHlENHlENHlENHlENHlENHlENHlENHlELIFANHlENHlENHlENHlENHlEOH1ENHlENHlENHlEOHlANHlENHlASJEkOHlANHlENHlENHlANHlENHlENHlEPHlMNHlINHlEQIFANHlENHlENHlEMHlAPIFANHlENHlEMHlAKHU4NHlENHlENHlENH1INHlEAAACllIYFAAAAPnRSTlMACE8SPUINBmnP0W09s8Mmb9L5+tOqzdYq0O/ybvgrauh5ZdVpB2L72GSEr/UXMuQe4e28Qx3bt0EXqL6NMmAuHOgAAAABYktHRACIBR1IAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wQdFTYeYgkngwAAAJpJREFUGNNtj0cWgkAQRHswi4lBQdQxK0rOmbn/sZyHhIXWpvr/WjXA/yCOQ73+YNjwaDyZ8rP5YtnsKwGL640kb+udVzCleLevBToohFaRj9V+EvCX6fmCGF9bpuLt/oCnrNI26usNmm50wtA1MC27E7ZlAjguuzxJ8li5DtTCDwK/EWFECImTJGYVhUykWZ7nRVkWrLL09+8P4dse8PARNgQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDQtMjlUMTk6NTQ6MzArMDI6MDBynaY6AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA0LTI5VDE5OjU0OjMwKzAyOjAwA8AehgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},328:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAolBMVEUAAAAAIGALIFUAAAAMGFUNHlENHlENHlENH1ENH1EAJEkNHlINHlENHlANGk0SJEkNHlEOHVIQIFANHlENHlEUJ04NHlEOHlAOHFMNG1ENHlEAAIANHlEXF0YVFVUNHlEMHVANH1INHlELHFMMHVENH1INHlEOH1ENH1ENHlEOHVAMHlAKHU4OHlENH1ANHlELHE8PHVANHlEOHlEAAEAAAAA4xRp1AAAANXRSTlMACBgBFaPy2uqFB4brohQO1IMQm7ANmKglJtgC5wsM5qVkZS4sc8SEwMGCzhqBY90tRuPiBDSNxyEAAAABYktHRACIBR1IAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4wQdFTc53hijqQAAAJRJREFUGNNVTVcWgjAQnFASQUVCVUFsFBUEotz/bAqoxPnYKW92FwCIor4nVIX0BE2nbGaY5nzB6NICVjYncFzPcx0QbvswgqEehkM94GBrSNhsQSM5iCjinRwkexyOcnDScY6tyWtxCmR58lvIs56Kiz96/1qM4lZWPVXl/VutmxZIm3o6Jh5CPIX8rmWsxR+67iNeUz0JiDIHwN0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDQtMjlUMTk6NTU6NTcrMDI6MDCel/oNAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA0LTI5VDE5OjU1OjU3KzAyOjAw78pCsQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII="},329:function(e,t,a){e.exports=a.p+"static/media/plus.ed718a5f.svg"},330:function(e,t,a){e.exports=a.p+"static/media/analytics.c700b0e0.svg"},331:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__20fBE"}},332:function(e,t,a){},333:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2wxR2"}},334:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARESURBVFiFtZd/TNRlHMdfz3EgP+4AsUmBAhuyUlu2AzHnJtqPlbUk5iDtBn/hbq3WkJzN1SLack4mx2Jutbm5umOEGxvOSrSaWPOPWMNkWVPS0QlEW9OAO73Du3v64wvcPd+7LxyKn+227+fzeb6f9+v5fJ/n+X5PSClJ1Pz77YX3wsImwCbDwiaQNgCJGBBCXgI5ECQ8kO3sHE60pkgEYLKhbpNJhA8D2xKse1EKcdDa6vrpwQAcjmRvuq8dcCQorC/fYck219N0wr9ogMnGmhyTTOkm8VnHF4B+kpMrM46cGE8c4J2Xl3mTcs4Dm+NWTU2HvALIL9D8UQ+MecB/x4jjss9s2pLb8qVPnzDHGz1lzjkuZBzxx1bDTjusKoovMzIMp9wwPqLPbMgIhb5AiGp0M47pwFSjvVJI0aMEk5KgYgds3aFdz9j3F38B4PktZZGxoRBcOAM/ntGuo02y29Lm7jIGaG42ef8bGgTWKze+ugfKK5SQq+cs3b19AOx6aRu1r72oivVfgNOd6GzIkj26jqbzwdmAKTrru33thRjx4rWG4q9vCrD7mQDdvX24es6qUuUV2r2qlUxN5L0SHVDWgISNyvBlqVBVF1e8emOAvRWR3fXVTDeUTlTVQXszBCLjhKQUOBUXAIRNcYtKIGt5jPiusgCO7ZGi9Vv98SGylkPhGrj2W0QB09PREmoHBDYRHcgvihGvKp3mzWdjzxVDiLxCBUAiFYC5NTDZWJMjoFCpmq+5V2946O7to9I2zVvP3Y0Rj4aYXRNXb3hmAAr0w1ZPNtbkzDpzHRAm80p0u4bMbI0j9xE+bqhnc8pRQ/FoiJIyB6seXakFrJkxY0wyNRe4BVEdsHqCQ4A6vTFtFpaMdJ56ohjl8cxjpU8+TkZ6quaMj6pJid+SfXNoDmYucfJkCMllZfDoX4YibefSqD6WSfWxTA6dTjemGVNrCMGg4TkADCie57phXa9fcNun/Sb98/RmZFhxJVyK9k1qUqoA4yPw68/GxReywX74+6YaE6qGApCM+TtgWrnh2y6Ymli8+NQEfN2ljwZDwdAPKo/uZeRttLcjxdtKsHgt7HEgzBG2O3cDBO5pjzLZnIRldtEBMpgCnZ/D9T90+vK4xdmxd14AX8MbuVKYrgArlERWDlTVxjvfVfvzd+hxw8QtfWYyKcT6tE/dyrs67geJ9137dsLiHPqjWgjYUA5r1mmn5IqZvf7vP9qOGbqiPfdYC4cROzOdrm/0CcNPMm9DrQMhPzOYp2apaSCl8rKJZ1KKA9Y2V0u83Lwfpb5G+z4pReu81Rc00Wxxuj4yyurPAcUyWjucQrD/YYkvCKBBuI9KKQ48DPGEAACsba4WCe8ttXjCAABWp/uIFBxcSvFFAQBYW92HpRDvL5X4ogE0CNch4IOlEL8vAACL0/0JiA8fVBwS/HdsZN599iYwifsVB/gfJqKgwsrHhz8AAAAASUVORK5CYII="},337:function(e,t,a){e.exports={ProdView:"ProdView_ProdView__XaS9i"}},339:function(e,t,a){e.exports=a.p+"static/media/phone.ce49021a.svg"},340:function(e,t,a){e.exports=a.p+"static/media/heart.ab11192f.svg"},341:function(e,t,a){e.exports=a.p+"static/media/mapIcon.17ee361c.svg"},43:function(e,t,a){e.exports={page:"ManProd_page__iJ1A-",Button:"ManProd_Button__1LvYe",img:"ManProd_img__rb1dM",FeedSpecProdList:"ManProd_FeedSpecProdList__1sdOo",predict:"ManProd_predict__1aHI-",Delete:"ManProd_Delete__24ae6",ostock:"ManProd_ostock__3-ZaH",Home:"ManProd_Home__1ghIo",sales:"ManProd_sales__UbTeF",cont:"ManProd_cont__fHZlR",content:"ManProd_content__krkCZ",svg1:"ManProd_svg1___a4fq"}},430:function(e,t,a){e.exports=a(850)},439:function(e,t,a){},440:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},441:function(e,t,a){},62:function(e,t,a){e.exports={feedProd:"FeedProd_feedProd__D67GX",img:"FeedProd_img__1B-Pi",cont:"FeedProd_cont__KejSn",price:"FeedProd_price__3m854",content:"FeedProd_content___emTR",rating:"FeedProd_rating__1WsJq",edit:"FeedProd_edit__1J-Ey",contents:"FeedProd_contents__3JzaE"}},71:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__O5lnL",Home:"NavigationItems_Home__1cBSB",WiSh:"NavigationItems_WiSh__2RcQ5"}},850:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(36),r=a.n(l),i=a(30),c=a(78),s=a(320),u=a(46),d=function(e,t){return Object(u.a)({},e,t)},m={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/"},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return function(e,t){return d(e,{error:null,loading:!0})}(e);case"AUTH_SUCCESS":return function(e,t){return d(e,{token:t.idToken,userId:t.userId,error:null,loading:!1})}(e,t);case"AUTH_FAIL":return function(e,t){return d(e,{error:t.error,loading:!1})}(e,t);case"AUTH_LOGOUT":return function(e,t){return d(e,{token:null,userId:null})}(e);case"SET_AUTH_REDIRECT_PATH":return function(e,t){return d(e,{authRedirectPath:t.path})}(e,t);default:return e}},A=(a(439),a(10)),g=a(11),h=a(13),v=a(12),f=a(14),E=a(23),y=(a(440),a(441),a(6)),b=function(e){return e.children},S=a(62),N=a.n(S),D=a(321),C=a.n(D),w=function(e){return o.a.createElement("div",{className:N.a.feedProd},o.a.createElement("img",{src:e.imageSrc,alt:e.imgAlt,className:N.a.img}),o.a.createElement("div",{className:N.a.content},o.a.createElement("div",{className:N.a.edit},o.a.createElement("h2",null,o.a.createElement("strong",null,e.name)),o.a.createElement("div",{className:N.a.price},o.a.createElement("p",null,o.a.createElement("strong",null,e.price)))),o.a.createElement("div",{className:N.a.cont},o.a.createElement("p",null,e.ratVal,o.a.createElement("img",{src:C.a,className:N.a.rating,alt:"rating"}))),o.a.createElement("p",{className:N.a.contents},o.a.createElement("i",null,e.content)),o.a.createElement("h3",null,0===e.isInStock?"Out of Stock":1===e.isInStock?"Few Left":null)))},I=a(322),O=a.n(I),_=a(17),k=a.n(_),F=a(323),j=a.n(F),H=function(){return o.a.createElement("div",{className:j.a.Loader},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},P=Object(E.f)(function(e){var t=[],a=Object(n.useState)(t),l=Object(y.a)(a,2),r=(l[0],l[1]),i=Object(n.useState)(o.a.createElement(H,null)),c=Object(y.a)(i,2),s=c[0],u=c[1];return Object(n.useEffect)(function(){k.a.firestore().collection("products").onSnapshot(function(a){t=[],a.forEach(function(e){var a=e.data();t.push(a)}),r(t),null==t[0]?u(o.a.createElement("p",null,"No Products")):u(t.map(function(t){return o.a.createElement("div",{key:t.id,onClick:function(a){return function(t){console.log("clicked"),console.log(t);var a=encodeURIComponent(t);e.history.push({pathname:"/ProdView",search:"?"+a})}(t.id)}},o.a.createElement(w,{name:t.name,content:t.content,price:t.price,imageSrc:t.imageSrc,imgAlt:t.imgAlt,isInStock:t.isInStock,ratVal:t.ratingVals.ratingValue.toFixed(1)}))}))})},[]),o.a.createElement(b,null,o.a.createElement("div",{className:O.a.FeedProdList},s))}),L=a(325),x=a.n(L),V=a(113),T=a.n(V),M=a(213),B=a.n(M),U=function(e){return o.a.createElement("button",{className:[B.a.Button,B.a[e.btnType]].join(" "),onClick:e.clicked,disabled:e.disabled},e.children)},R=a(155),G=a.n(R),Y=Object(E.f)(function(e){var t=Object(n.useState)(o.a.createElement(H,null)),a=Object(y.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)([]),c=Object(y.a)(i,2),s=(c[0],c[1]),u=Object(n.useState)([]),d=Object(y.a)(u,2),m=(d[0],d[1],[]),p=[],A=k.a.firestore();return Object(n.useEffect)(function(){A.collection("customer").doc(e.userId).onSnapshot(function(t){r(o.a.createElement(H,null)),p=[],m=t.data().wish,s(m),null==m[0]?r(o.a.createElement("p",null,"No results")):m.forEach(function(t){A.collection("products").doc(t).get().then(function(t){p.push(t.data()),r(p.map(function(t){return o.a.createElement(b,null,o.a.createElement("div",{key:t.id,className:T.a.FeedProd,onClick:function(a){return function(t){var a=encodeURIComponent(t);e.history.push({pathname:"/ProdView",search:"?"+a})}(t.id)}},o.a.createElement(w,{name:t.name,content:t.content,price:t.price,imageSrc:t.imageSrc,imgAlt:t.imgAlt,styleClass:T.a})),o.a.createElement("div",{className:T.a.deButton},o.a.createElement(U,{clicked:function(a){return n=t.id,void A.collection("customer").doc(e.userId).get().then(function(t){var a=t.data().wish;a.splice(a.indexOf(n),1),A.collection("customer").doc(e.userId).update({wish:a}),e.history.push({pathname:"/wish"})});var n}},o.a.createElement("img",{src:G.a,className:T.a.Home,alt:"alt"}))))}))})})})},[]),o.a.createElement(b,null,o.a.createElement("div",null,l))}),W=function(e){function t(){return Object(A.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(b,null,o.a.createElement("div",{className:x.a.WishList},o.a.createElement(Y,{userId:this.props.userId})))}}]),t}(n.Component),Q=Object(i.b)(function(e){return{token:e.auth.token,userId:e.auth.userId}})(W),z=a(157),X=a.n(z),q=a(53),K=a(326),J=a.n(K),Z=a(71),$=a.n(Z),ee=a(214),te=a.n(ee),ae=a(67),ne=function(e){return o.a.createElement("li",{className:te.a.NavigationItem,onClick:e.clicked},o.a.createElement(ae.b,{to:e.link,exact:e.exact,activeClassName:te.a.active},e.children))},oe=a(215),le=a.n(oe),re=a(327),ie=a.n(re),ce=a(328),se=a.n(ce),ue=a(329),de=a.n(ue),me=a(330),pe=a.n(me),Ae=function(e){var t="true"===localStorage.getItem("isCust");return o.a.createElement("ul",{className:$.a.NavigationItems},o.a.createElement(ne,{link:"/",exact:!0,clicked:e.clicked},o.a.createElement("img",{src:ie.a,className:$.a.Home,alt:"alt"}),"Home"),e.isAuthenticated&&t?o.a.createElement(ne,{link:"/wish",clicked:e.clicked},o.a.createElement("img",{src:se.a,className:$.a.WiSh,alt:"alt"}),"Wishlist"):null,e.isAuthenticated&&!t?o.a.createElement(ne,{link:"/AddProd",clicked:e.clicked},o.a.createElement("img",{src:de.a,className:$.a.WiSh,alt:"alt"}),"Add Product"):null,e.isAuthenticated&&!t?o.a.createElement(ne,{link:"/ManProd",clicked:e.clicked},o.a.createElement("img",{src:pe.a,className:$.a.WiSh,alt:"alt"}),"Manage Products"):null,e.isAuthenticated?o.a.createElement(ne,{link:"/logout",clicked:e.clicked},o.a.createElement("img",{src:le.a,className:$.a.WiSh,alt:"alt"}),"Logout"):o.a.createElement(ne,{link:"/auth",clicked:e.clicked},o.a.createElement("img",{src:le.a,className:$.a.WiSh,alt:"alt"}),"Login"))},ge=a(331),he=a.n(ge),ve=function(e){return o.a.createElement("div",{className:he.a.DrawerToggle,onClick:e.clicked},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))},fe=a(216),Ee=a.n(fe),ye=a(92),be=a.n(ye),Se=function(e){var t=null,a=[be.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(be.a.Invalid),e.elementType){case"input":t=o.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=o.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=o.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map(function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:console.log("default"),t=o.a.createElement("input",Object.assign({className:be.a.InputElement},e.elementConfig,{value:e.value,onChange:e.changed}))}return o.a.createElement("div",{className:be.a.Input},o.a.createElement("label",{className:be.a.Label},e.label),t)},Ne=a(108),De=a.n(Ne),Ce=Object(E.f)(function(e){var t=Object(n.useState)({elementType:"input",elementConfig:{type:"text",placeholder:"Search"},value:"",touched:!1}),a=Object(y.a)(t,2),l=a[0],r=a[1];return o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=encodeURIComponent(l.value);e.history.push({pathname:"/FeedM",search:"?"+a})},className:Ee.a.form},o.a.createElement(De.a,{key:"search",type:"input",labelWidth:0,value:l.value,placeholder:"Search",onChange:function(e){return function(e){var t=Object(u.a)({},l);t.value=e.target.value,t.touched=!0,r(t)}(e)},className:Ee.a.searchbar}))}),we=function(e){return o.a.createElement("header",{className:J.a.Toolbar},o.a.createElement(ve,{clicked:e.drawerToggleClicked}),o.a.createElement(Ce,null))},Ie=a(332),Oe=a.n(Ie),_e=a(93),ke=a.n(_e),Fe=a(333),je=a.n(Fe),He=function(e){return e.show?o.a.createElement("div",{className:je.a.Backdrop,onClick:e.clicked}):null},Pe=function(e){var t=[ke.a.SideDrawer,ke.a.Close];return e.open&&(t=[ke.a.SideDrawer,ke.a.Open]),o.a.createElement(b,null,o.a.createElement(He,{show:e.open,clicked:e.closed}),o.a.createElement("div",{className:t.join(" ")},o.a.createElement("nav",null,o.a.createElement("h1",{className:ke.a.headText},"ShoppingSpree"),o.a.createElement(Ae,{clicked:e.closed,isAuthenticated:e.isAuth,isCust:e.isCust}))))},Le=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={showSideDrawer:!1},a.sideDrawerClosedHandler=function(){a.setState({showSideDrawer:!1})},a.sideDrawerToggleHandler=function(){a.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return o.a.createElement(b,null,o.a.createElement(we,{isAuth:this.props.isAuthenticated,drawerToggleClicked:this.sideDrawerToggleHandler}),o.a.createElement(Pe,{isCust:this.props.isCust,isAuth:this.props.isAuthenticated,open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),o.a.createElement("main",{className:Oe.a.Content},this.props.children))}}]),t}(n.Component),xe=Object(i.b)(function(e){return{isAuthenticated:null!==e.auth.token}})(Le),Ve={position:"absolute",width:"100%",height:"100%"},Te=function(e){function t(e){var a;Object(A.a)(this,t);var n=(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).props.initialCenter,o=n.lat,l=n.lng;return a.state={currentLocation:{lat:o,lng:l}},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})}),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=r.a.findDOMNode(t),n=this.props.zoom,o=this.state.currentLocation,l=o.lat,i=o.lng,c=new e.LatLng(l,i),s=Object.assign({},{center:c,zoom:n});this.map=new e.Map(a,s)}}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return o.a.Children.map(t,function(t){if(t)return o.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})})}},{key:"render",value:function(){var e=Object.assign({},Ve);return o.a.createElement("div",null,o.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(o.a.Component);Te.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!0,visible:!0,streetViewControl:!1,mapTypeControl:!1};var Me=a(112),Be=a.n(Me),Ue=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={streetViewControl:!1,showingInfoWindow:!1,activeMarker:{},selectedPlace:{},usrLat:9.318226,usrLng:76.613996,mapComp:null,mrkrs:null},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidUpdate",value:function(e){console.log(e.locArray),console.log(this.props.locArray),this.props.locArray!==e.locArray&&this.updateMap()}},{key:"updateMap",value:function(){var e=o.a.createElement(q.Map,{google:this.props.google,style:{width:"60%",height:"60%",position:"relative"},className:"map",zoom:14,initialCenter:{lat:this.state.usrLat,lng:this.state.usrLng}},this.state.mrkrs,o.a.createElement(q.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},o.a.createElement("div",null,o.a.createElement("h4",null,this.state.selectedPlace.name))));this.setState({mapComp:e})}},{key:"componentWillMount",value:function(){var e=this,t=this.props.locArray;console.log(t);var a=t.map(function(t){return o.a.createElement(q.Marker,{onClick:e.onMarkerClick,name:t.name,position:t.pos})});this.setState({mrkrs:a}),this.updateMap()}},{key:"render",value:function(){return o.a.createElement(b,{className:Be.a.Geo},this.state.mapComp)}}]),t}(n.Component),Re=Object(q.GoogleApiWrapper)({apiKey:"AIzaSyBSS-C2AaaEAxXFJXGvwb7xL9MFcjuButE"})(Ue),Ge=a(334),Ye=a.n(Ge),We=Object(q.GoogleApiWrapper)({apiKey:"AIzaSyBSS-C2AaaEAxXFJXGvwb7xL9MFcjuButE"})(function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),l=(a[0],a[1],Object(n.useState)(!1)),r=Object(y.a)(l,2),i=r[0],c=r[1],s=Object(n.useState)({}),u=Object(y.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({}),A=Object(y.a)(p,2),g=A[0],h=A[1],v=Object(n.useState)({usrLat:9.318226,usrLng:76.613996}),f=Object(y.a)(v,2),E=(f[0],f[1],Object(n.useState)(o.a.createElement("div",{className:Be.a.mapPlace},o.a.createElement("p",null,"Please Turn on Geolocation Services"),o.a.createElement("p",null," to enable LIVE MAP")))),S=Object(y.a)(E,2),N=S[0],D=S[1],C={usrLat:9.318226,usrLng:76.613996},w=function(e,t,a){console.log(e),console.log(t),h(e),m(t),c(!0)},I=function(e){i&&(c(!1),m(null))};return Object(n.useEffect)(function(){navigator.geolocation.getCurrentPosition(function(t){C={usrLat:t.coords.latitude,usrLng:t.coords.longitude};var a=e.locArray.map(function(e){return o.a.createElement(q.Marker,{onClick:w,name:e.name,position:e.pos})}),n=o.a.createElement(q.Map,{google:e.google,style:{width:"80%",height:"60%",position:"relative",margin:"10px auto"},className:"map",zoom:14,initialCenter:{lat:C.usrLat,lng:C.usrLng}},o.a.createElement(q.Marker,{onClick:w,name:"You are here",position:{lat:C.usrLat,lng:C.usrLng},icon:{url:Ye.a}}),a,o.a.createElement(q.InfoWindow,{marker:d,visible:i,onClose:I},o.a.createElement("div",null,o.a.createElement("h4",null,g.name))));D(n)})},[e,d]),o.a.createElement(b,{className:Be.a.Geo},N)}),Qe=function(e){var t=Object(n.useState)(o.a.createElement(H,null)),a=Object(y.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(o.a.createElement(H,null)),c=Object(y.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)([{pos:{lat:9.318226,lng:76.613996},name:"Default"}]),m=Object(y.a)(d,2),p=(m[0],m[1],o.a.createElement(H,null),[]),A=[],g=new URLSearchParams(e.location.search),h=[],v=!0,f=!1,E=void 0;try{for(var S,N=g.entries()[Symbol.iterator]();!(v=(S=N.next()).done);v=!0){var D=S.value;h.push(D)}}catch(I){f=!0,E=I}finally{try{v||null==N.return||N.return()}finally{if(f)throw E}}var C=[];return Object(n.useEffect)(function(){var t=k.a.firestore();t.collection("products").where("tags","array-contains",h[0][0]).onSnapshot(function(a){a.forEach(function(e){var t=e.data();C.push(t)}),C.map(function(e){p.push(e.sellerId)}),p.map(function(e){t.collection("shop").where("userId","==",e).onSnapshot(function(e){e.forEach(function(e){var t=e.data();A.push({pos:t.loc,name:t.name})}),u(o.a.createElement(We,{locArray:A}))})}),null==C[0]?(r(o.a.createElement("p",null,"No results")),u(null)):r(C.map(function(t){return o.a.createElement("div",{key:t.id,onClick:function(a){return function(t){console.log("clicked"),console.log(t);var a=encodeURIComponent(t);e.history.push({pathname:"/ProdView",search:"?"+a})}(t.id)}},o.a.createElement(w,{name:t.name,content:t.content,price:t.price,imageSrc:t.imageSrc,imgAlt:t.imgAlt,isInStock:t.isInStock,ratVal:t.ratingVals.ratingValue.toFixed(1)}))}))})},[r,e.location.search]),o.a.createElement(b,null,o.a.createElement("div",{className:X.a.page},o.a.createElement("div",{className:X.a.mapDiv},s),o.a.createElement("div",{className:X.a.FeedSpecProdList},l)))},ze=a(158),Xe=a(114),qe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={latitude:0,longitude:0},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=[],a=!0,n=!1,l=void 0;try{for(var r,i=e.entries()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var c=r.value;t.push(c)}}catch(d){n=!0,l=d}finally{try{a||null==i.return||i.return()}finally{if(n)throw l}}console.log(t);var s=Object(ze.a)(Object(ze.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBSS-C2AaaEAxXFJXGvwb7xL9MFcjuButE",loadingElement:o.a.createElement("div",{style:{height:"400px"}}),containerElement:o.a.createElement("div",{style:{width:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"830px",width:"1705px",position:"absolute"}})}),Xe.withScriptjs,Xe.withGoogleMap,Object(ze.b)({componentDidMount:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.setState({latitude:t.coords.latitude,longitude:t.coords.longitude})}),(new google.maps.DirectionsService).route({origin:new google.maps.LatLng(9.954192,76.3449),destination:new google.maps.LatLng(9.888786,76.419493),travelMode:google.maps.TravelMode.DRIVING},function(t,a){a===google.maps.DirectionsStatus.OK?e.setState({directions:Object(u.a)({},t),markers:!0}):console.error("error fetching directions ".concat(t))})}}))(function(e){return o.a.createElement(Xe.GoogleMap,{defaultZoom:3,streetViewControl:!1},e.directions&&o.a.createElement(Xe.DirectionsRenderer,{directions:e.directions,suppressMarkers:e.markers}))});return o.a.createElement(s,null)}}]),t}(o.a.Component),Ke=a(337),Je=a.n(Ke),Ze=a(31),$e=a.n(Ze),et=a(338),tt=a.n(et),at=a(69),nt=a.n(at),ot=a(90),lt=a.n(ot),rt=a(339),it=a.n(rt),ct=a(340),st=a.n(ct),ut=a(341),dt=a.n(ut),mt=Object(E.f)(function(e){var t=Object(n.useState)(e.userId),a=Object(y.a)(t,2),l=(a[0],a[1],Object(n.useState)(null)),r=Object(y.a)(l,2),i=(r[0],r[1]),c=Object(n.useState)(0),s=Object(y.a)(c,2),u=s[0],d=(s[1],9.318226),m=76.613996,p=0,A=Object(n.useState)(o.a.createElement(H,null)),g=Object(y.a)(A,2),h=g[0],v=g[1],f=Object(n.useState)(o.a.createElement(H,null)),E=Object(y.a)(f,2),b=E[0],S=E[1],N=k.a.firestore(),D=null,C=0,w=function(){var t=0;if(null!==e.userId){var a=N.collection("customer");N.collection("customer").doc(e.userId).get().then(function(n){var o=n.data().wish;o.map(function(a){a===e.prodId&&(t=1)}),t||(o.push(e.prodId),a.doc(e.userId).update({wish:o}))})}};return Object(n.useEffect)(function(){navigator.geolocation.getCurrentPosition(function(e){console.log(e),d=e.coords.latitude,m=e.coords.longitude});var t=navigator.permissions.query({name:"geolocation"});console.log(t),N.collection("products"),N.collection("products").doc(e.prodId).get().then(function(t){var a=t.data();if(p=a.views+1,N.collection("products").doc(e.prodId).update({views:p}),i(a),e.userId){var n=a.custRatings.includes(e.userId);D=n?null:o.a.createElement("div",null,o.a.createElement("p",null,"Rate this Product :"),o.a.createElement(tt.a,{rating:u,starRatedColor:"blue",changeRating:function(e){return function(e){C=e}(e)},numberOfStars:5,name:"ProdRating",starDimension:"20px",starSpacing:"7px"}),o.a.createElement(nt.a,{onClick:function(t){return function(t){console.log("clicked"),N.collection("products");var a=N.collection("products").doc(e.prodId);N.collection("products").doc(e.prodId).get().then(function(t){var n=t.data();n.custRatings.push(e.userId);var o=(n.ratingVals.noOfRating*n.ratingVals.ratingValue+C)/(n.ratingVals.noOfRating+1);a.update({custRatings:n.custRatings,ratingVals:{noOfRating:n.ratingVals.noOfRating+1,ratingValue:o}}),window.location.reload()})}()}},"Submit"))}console.log(a.isInStock),v(o.a.createElement("div",{className:$e.a.ProdSingleView},o.a.createElement("img",{src:a.imageSrc,alt:a.imgAlt,className:$e.a.img}),o.a.createElement("div",{className:$e.a.content},o.a.createElement("h2",null,o.a.createElement("strong",null,a.brand," ",a.name)),o.a.createElement("p",null,"Rating: ",a.ratingVals.ratingValue.toFixed(1)),o.a.createElement("p",{className:$e.a.cont},o.a.createElement("i",null,a.content)),o.a.createElement("p",null,o.a.createElement("strong",null,a.price)),o.a.createElement("p",null,0===a.isInStock?"Out of stock":"In stock")),D)),N.collection("shop").doc(a.sellerId).get().then(function(e){var t=e.data(),a=e.data().name,n="tel:"+t.phone,l="https://www.google.com/maps/embed/v1/directions?key=AIzaSyBSS-C2AaaEAxXFJXGvwb7xL9MFcjuButE&origin="+d+","+m+"&destination="+t.loc.lat+","+t.loc.lng;console.log(d),S(o.a.createElement("div",{className:$e.a.page},o.a.createElement("p",null,"Seller : ",o.a.createElement("strong",null,a)),o.a.createElement("div",{className:$e.a.navIcons},o.a.createElement("div",{className:$e.a.wish},o.a.createElement(lt.a,{variant:"extended","aria-label":"Delete",className:$e.a.fab},o.a.createElement("img",{src:st.a,alt:"phoneIcon",className:$e.a.phoneIcon,onClick:w}))),o.a.createElement("div",{className:$e.a.wish},o.a.createElement("a",{href:n},o.a.createElement(lt.a,{variant:"extended","aria-label":"Delete",className:$e.a.fab},o.a.createElement("img",{src:it.a,alt:"phoneIcon",className:$e.a.phoneIcon})))),o.a.createElement("div",{className:$e.a.wish},o.a.createElement("a",{href:l,target:"_blank"},o.a.createElement(lt.a,{variant:"extended","aria-label":"Delete",className:$e.a.fab},o.a.createElement("img",{src:dt.a,alt:"phoneIcon",className:$e.a.phoneIcon})))))))})})},[]),o.a.createElement("div",null,h,b)}),pt=function(e){function t(){return Object(A.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=[],a=!0,n=!1,l=void 0;try{for(var r,i=e.entries()[Symbol.iterator]();!(a=(r=i.next()).done);a=!0){var c=r.value;t.push(c)}}catch(s){n=!0,l=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw l}}return o.a.createElement("div",{className:Je.a.ProdView},o.a.createElement(mt,{prodId:t[0][0],userId:this.props.userId}))}}]),t}(n.Component),At=Object(i.b)(function(e){return{token:e.auth.token,userId:e.auth.userId}})(pt),gt=a(89),ht=a(111),vt=a.n(ht),ft=a(154),Et=a.n(ft),yt=a(110),bt=a.n(yt),St=a(94),Nt=a.n(St),Dt=a(156),Ct=a.n(Dt),wt=(a(314),function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}}),It=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},Ot=function(e){return function(t){setTimeout(function(){t(It())},1e3*e)}},_t=a(342),kt=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},signupCustContr:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Full Name"},value:"",validation:{required:!1},valid:!0,touched:!1},pinCode:{elementType:"input",elementConfig:{type:"text",placeholder:"PIN Code"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},signupShopContr:{name:{elementType:"input",elementConfig:{type:"text",placeholder:"Seller Name"},value:"",validation:{required:!1},valid:!0,touched:!1},lat:{elementType:"input",elementConfig:{type:"text",placeholder:"Latitude"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1},lng:{elementType:"input",elementConfig:{type:"text",placeholder:"Longitude"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1},pinCode:{elementType:"input",elementConfig:{type:"text",placeholder:"PIN Code"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1},phoneNo:{elementType:"input",elementConfig:{type:"text",placeholder:"Phone No."},value:"",validation:{required:!0,minLength:10},valid:!1,touched:!1},email:{elementType:"input",elementConfig:{type:"email",placeholder:"Mail Address"},value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},isSignup:!1,isCust:!0,radVal:"customer"},a.inputChangedHandler=function(e,t,n){var o=Object(u.a)({},n,Object(gt.a)({},t,Object(u.a)({},n[t],{value:e.target.value,valid:a.checkValidity(e.target.value,n[t].validation),touched:!0})));a.state.isSignup?a.state.isCust?a.setState({signupCustContr:o}):a.setState({signupShopContr:o}):a.setState({controls:o})},a.submitHandler=function(e){e.preventDefault();var t=a.state.controls;a.state.isSignup&&(t=a.state.isCust?a.state.signupCustContr:a.state.signupShopContr),console.log(t),a.props.onAuth(t.email.value,t.password.value,a.state.isSignup,a.state.isCust,t)},a.switchAuthModeHandler=function(){a.setState(function(e){return{isSignup:!e.isSignup}})},a.switchSignUpHandler=function(e,t){a.setState(function(e){return{isCust:!e.isCust,radVal:t}})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){"/"!==this.props.authRedirectPath&&this.props.onSetAuthRedirectPath()}},{key:"checkValidity",value:function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.maxLength&&(a=e.length<=t.maxLength&&a),t.isEmail){a=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&a}if(t.isNumeric){a=/^\d+$/.test(e)&&a}return a}},{key:"render",value:function(){var e=this,t=[],a=[];for(var n in this.state.controls)t.push({id:n,config:this.state.controls[n]});var l=t.map(function(t){return o.a.createElement(Se,{className:Nt.a.Autho,key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.inputChangedHandler(a,t.id,e.state.controls)}})}),r=o.a.createElement(b,null,o.a.createElement(_t.a,null,o.a.createElement(Et.a,{"aria-label":"Type",name:"account_type",value:this.state.radVal,onChange:function(t,a){return e.switchSignUpHandler(t,a)}},o.a.createElement(bt.a,{value:"customer",control:o.a.createElement(vt.a,null),label:"Customer"}),o.a.createElement(bt.a,{value:"shop",control:o.a.createElement(vt.a,null),label:"Shop"}))));if(this.state.isSignup){a=this.state.isCust?this.state.signupCustContr:this.state.signupShopContr;var i=[];for(var c in a)i.push({id:c,config:a[c]});l=i.map(function(t){return o.a.createElement(Se,{className:Nt.a.Autho,key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.inputChangedHandler(n,t.id,a)}})})}this.props.loading&&(l=o.a.createElement(H,null));var s=null;this.props.error&&(s=o.a.createElement("p",null,"INVALID"));var u=null;return this.props.isAuthenticated&&(u=o.a.createElement(E.a,{to:this.props.authRedirectPath})),o.a.createElement("div",{className:Nt.a.Auth},u,s,o.a.createElement("form",{onSubmit:this.submitHandler},r,l,o.a.createElement(U,{className:Nt.a.Submit,btnType:"Success"},"SUBMIT")),o.a.createElement(U,{className:Nt.a.Switch,clicked:this.switchAuthModeHandler,btnType:"Danger"},"SWITCH TO ",this.state.isSignup?"SIGNIN":"SIGNUP"))}}]),t}(n.Component),Ft=Object(i.b)(function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath}},function(e){return{onAuth:function(t,a,n,o,l){return e(function(e,t,a,n,o){return function(l){l({type:"AUTH_START"});var r={email:e,password:t,returnSecureToken:!0},i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyAu0pReHYzKAKWwFuepIHf8_1xwbBvweuM";a||(i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyAu0pReHYzKAKWwFuepIHf8_1xwbBvweuM"),Ct.a.post(i,r).then(function(e){var t=k.a.firestore();if(!a){var r=e.data.localId;n?t.collection("customer").doc(r).get().then(function(e){var t=e.data();console.log(t),null==t&&l(It())}):t.collection("shop").doc(r).get().then(function(e){var t=e.data();console.log(t),null==t&&l(It())})}var i={};if(a){var c=null;n?(c=t.collection("customer"),i={name:o.name.value,email:o.email.value,pinCode:o.pinCode.value,userId:e.data.localId,wish:[],isCust:1}):(c=t.collection("shop"),i={name:o.name.value,email:o.email.value,pinCode:o.pinCode.value,loc:{lat:o.lat.value,lng:o.lng.value},userId:e.data.localId,phone:o.phoneNo.value,custRatings:[],ratingVals:{noOfRating:0,ratingValue:0},isCust:0}),c.doc(e.data.localId).set(i),"granted"==Notification.permission&&navigator.serviceWorker.getRegistration().then(function(e){e.showNotification("Welcome to ShoppingSpree!!")})}var s=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",s),localStorage.setItem("userId",e.data.localId),localStorage.setItem("isCust",n),l(wt(e.data.idToken,e.data.localId)),l(Ot(e.data.expiresIn)),"granted"===Notification.permission&&new Notification("Welcome to ShoppingSpree!",{body:"Check out our awesome products"})}).catch(function(e){l({type:"AUTH_FAIL",error:e})})}}(t,a,n,o,l))},onSetAuthRedirectPath:function(){return e((t="/",console.log("called"),{type:"SET_AUTH_REDIRECT_PATH",path:t}));var t}}})(kt),jt=a(217),Ht=a.n(jt),Pt=function(e){function t(){var e,a;Object(A.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={prodDet:{ProdName:{elementType:"input",elementConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0},valid:!0,touched:!1},ProdPrice:{elementType:"input",elementConfig:{type:"text",placeholder:"Price"},value:"",validation:{required:!0},valid:!0,touched:!1},ProdCategory:{elementType:"select",elementConfig:{options:[{value:"electronics",displayValue:"Electronics"},{value:"fashion",displayValue:"Fashion"},{value:"grocery",displayValue:"Grocery"},{value:"household",displayValue:"Household"},{value:"other",displayValue:"Other"}]},value:"electronics",validation:{},valid:!0},BrandName:{elementType:"input",elementConfig:{type:"text",placeholder:"Brand"},value:"",validation:{required:!0},valid:!0,touched:!1},ProdContent:{elementType:"input",elementConfig:{type:"text",placeholder:"Description"},value:"",validation:{required:!1},valid:!0,touched:!1},ProdImageLink:{elementType:"input",elementConfig:{type:"text",placeholder:"Image Link"},value:"",validation:{required:!0},valid:!0,touched:!1},ProdTags:{elementType:"input",elementConfig:{type:"text",placeholder:"Tags (seperate using , )"},value:"",validation:{required:!0},valid:!0,touched:!1}}},a.inputChangedHandler=function(e,t){var n=Object(u.a)({},a.state.prodDet,Object(gt.a)({},t,Object(u.a)({},a.state.prodDet[t],{value:e.target.value,touched:!0})));a.setState({prodDet:n})},a.submitHandler=function(e){e.preventDefault();var t=k.a.firestore(),n=localStorage.getItem("userId"),o=a.state.prodDet.ProdTags.value;o.trim();var l=o.split(","),r={name:a.state.prodDet.ProdName.value,brand:a.state.prodDet.BrandName.value,price:a.state.prodDet.ProdPrice.value,category:a.state.prodDet.ProdCategory.value,content:a.state.prodDet.ProdContent.value,imageSrc:a.state.prodDet.ProdImageLink.value,imgAlt:"Image",tags:l,sellerId:n,ratingVals:{noOfRating:0,ratingValue:0},custRatings:[],views:0};t.collection("products").add(r).then(function(e){t.collection("products").doc(e.id).update({id:e.id})}),a.props.history.push({pathname:"/"})},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var a in this.state.prodDet)t.push({id:a,config:this.state.prodDet[a]});var n=t.map(function(t){return o.a.createElement(Se,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(a){return e.inputChangedHandler(a,t.id,e.state.controls)}})});return o.a.createElement("div",{className:Ht.a.AddProd},o.a.createElement("form",{onSubmit:this.submitHandler},n,o.a.createElement(U,{className:Ht.a.Submit,btnType:"Success"},"SUBMIT")))}}]),t}(n.Component),Lt=Object(E.f)(Object(i.b)(function(e){return{isAuthenticated:null!==e.auth.token}})(Pt)),xt=a(43),Vt=a.n(xt),Tt=function(e){var t=Object(n.useState)(o.a.createElement(H,null)),a=Object(y.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(null),c=Object(y.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)(null),m=Object(y.a)(d,2),p=(m[0],m[1],Object(n.useState)(null)),A=Object(y.a)(p,2),g=(A[0],A[1],localStorage.getItem("userId")),h=[];return Object(n.useEffect)(function(){k.a.firestore().collection("products").where("sellerId","==",g).onSnapshot(function(t){r(o.a.createElement(H,null)),h=[],t.forEach(function(e){var t=e.data();h.push(t),console.log(h)}),null==h[0]?r(o.a.createElement("p",null,"No results")):r(h.map(function(t){return o.a.createElement("div",{key:t.id},o.a.createElement("div",{className:Vt.a.ProdSingleView},o.a.createElement("img",{src:t.imageSrc,alt:t.imgAlt,className:Vt.a.img}),o.a.createElement("div",{className:Vt.a.content},o.a.createElement("h2",null,o.a.createElement("strong",null,t.brand," ",t.name)),o.a.createElement("p",null,"Rating: ",t.ratingVals.ratingValue.toFixed(1)),o.a.createElement("p",null,o.a.createElement("strong",null,t.price)),o.a.createElement("p",null,"Views: ",t.views)),o.a.createElement("div",{className:Vt.a.predict},o.a.createElement("div",{className:Vt.a.ostock},o.a.createElement(nt.a,{onClick:function(e){u(!0),function(e,t,a){var n=a+1;console.log(n),n%=3,console.log(n),k.a.firestore().collection("products").doc(t).update({isInStock:n}),u(!1)}(0,t.id,t.isInStock)},className:Vt.a.Button},2===t.isInStock?"Out of stock":0===t.isInStock?"Few Left":"In stock")),o.a.createElement("div",{className:Vt.a.sales},o.a.createElement(nt.a,{onClick:function(e){var a;u(!0),a=t.views,console.log(a),Ct.a.post("https://salespredict.herokuapp.com/predict",{chk:a},{headers:{"Content-Type":"text/plain"}}).then(function(e){var t=e.data.y_pred.length,a=e.data.y_pred.substring(1,t-1);console.log(a),alert("Predicted Sales : "+a),u(!1)})},className:Vt.a.Button},"Predict Sales"))),o.a.createElement("div",{className:Vt.a.Delete},o.a.createElement(nt.a,{onClick:function(a){return n=t.id,void k.a.firestore().collection("products").doc(n).delete().then(function(t){e.history.push({pathname:"/ManProd"})});var n}},o.a.createElement("img",{src:G.a,className:Vt.a.Home,alt:"alt"})))))}))})},[r]),o.a.createElement(b,null,o.a.createElement("div",{className:Vt.a.page},s?o.a.createElement(He,{show:!0}):null,o.a.createElement("div",{className:Vt.a.FeedSpecProdList},l)))},Mt=function(e){function t(){return Object(A.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.onLogout()}},{key:"render",value:function(){return o.a.createElement(E.a,{to:"/"})}}]),t}(n.Component),Bt=Object(i.b)(null,function(e){return{onLogout:function(){return e(It())}}})(Mt),Ut=function(e){function t(){return Object(A.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){Notification.requestPermission(function(e){console.log("Notification permission status:",e)}),navigator.geolocation.getCurrentPosition(function(e){console.log(e)}),this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=localStorage.getItem("isCust"),t=o.a.createElement(E.d,null,o.a.createElement(E.b,{path:"/auth",component:Ft}),o.a.createElement(E.b,{path:"/",exact:!0,component:P}),o.a.createElement(E.b,{path:"/geo",exact:!0,component:Re}),o.a.createElement(E.b,{path:"/FeedM",exact:!0,component:Qe}),o.a.createElement(E.b,{path:"/ProdView",exact:!0,component:At}),o.a.createElement(E.b,{path:"/MapView",exact:!0,component:qe}),o.a.createElement(E.a,{to:"/"}));return this.props.isAuthenticated&&(t=o.a.createElement(E.d,null,o.a.createElement(E.b,{path:"/logout",component:Bt}),o.a.createElement(E.b,{path:"/wish",exact:!0,component:Q}),o.a.createElement(E.b,{path:"/FeedM",exact:!0,component:Qe}),o.a.createElement(E.b,{path:"/AddProd",component:Lt}),o.a.createElement(E.b,{path:"/ProdView",exact:!0,component:At}),o.a.createElement(E.b,{path:"/MapView",exact:!0,component:qe}),o.a.createElement(E.b,{path:"/",exact:!0,component:P}),o.a.createElement(E.b,{path:"/geo",exact:!0,component:Re}),o.a.createElement(E.b,{path:"/ManProd",exact:!0,component:Tt}),o.a.createElement(E.b,{path:"/direction",exact:!0,component:qe}),o.a.createElement(E.a,{to:"/"}))),o.a.createElement("div",{className:"App"},o.a.createElement(xe,{isCust:e},t))}}]),t}(n.Component),Rt=Object(E.f)(Object(i.b)(function(e){return{isAuthenticated:null!==e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem("token");if(t){var a=new Date(localStorage.getItem("expirationDate"));if(a<=new Date)e(It());else{var n=localStorage.getItem("userId");e(wt(t,n)),e(Ot((a.getTime()-(new Date).getTime())/1e3))}}else e(It())})}}})(Ut)),Gt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}_.initializeApp({apiKey:"AIzaSyDrN8PymBoXSe8fYVZ0BvSG9rLaP4o8kak",authDomain:"shoppingspree-6e902.firebaseapp.com",databaseURL:"https://shoppingspree-6e902.firebaseio.com",storageBucket:"shoppingspree-6e902.appspot.com",projectId:"shoppingspree-6e902",messagingSenderId:"30003369612"});var Wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Qt=Object(c.c)({auth:p}),zt=Object(c.e)(Qt,Wt(Object(c.a)(s.a))),Xt=o.a.createElement(i.a,{store:zt},o.a.createElement(ae.a,null,o.a.createElement(Rt,null)));r.a.render(Xt,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");Gt?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Yt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Yt(t,e)})}}()},92:function(e,t,a){e.exports={Input:"Input_Input__3TsTu",Label:"Input_Label__1YCMY",InputElement:"Input_InputElement__Ny2iC",Invalid:"Input_Invalid__YavG6"}},93:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__H4e44",headText:"SideDrawer_headText__18VcU",Open:"SideDrawer_Open__31Csq",Close:"SideDrawer_Close__11SMO",Logo:"SideDrawer_Logo__3HhT0"}},94:function(e,t,a){e.exports={Auth:"Auth_Auth__r5KKc",group:"Auth_group__14R7b",Inp:"Auth_Inp__2DAAQ"}}},[[430,1,2]]]);
//# sourceMappingURL=main.05a464ba.chunk.js.map